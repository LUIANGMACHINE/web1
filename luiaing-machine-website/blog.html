<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>博客 - LUIANG MACHINE</title>
    <meta name="description" content="LUIANG MACHINE博客 - 分享工业设备知识、行业动态和技术文章">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- 社交链接侧边栏 -->
    <div class="social-sidebar">
        <a href="https://facebook.com" target="_blank" class="social-link">
            <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://instagram.com" target="_blank" class="social-link">
            <i class="fab fa-instagram"></i>
        </a>
        <a href="https://twitter.com" target="_blank" class="social-link">
            <i class="fab fa-twitter"></i>
        </a>
        <a href="https://linkedin.com" target="_blank" class="social-link">
            <i class="fab fa-linkedin-in"></i>
        </a>
        <a href="https://wa.me/8617712875791" target="_blank" class="social-link">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <!-- Header将通过JS动态加载 -->
    
    <main>
        <section class="blog-page">
            <div class="container">
                <div class="page-header">
                    <h1 data-lang="blog">博客</h1>
                    <p data-lang="blog-description">行业见解、技术文章和最新动态</p>
                </div>

                <!-- 博客文章网格 -->
                <div class="blog-grid" id="blog-grid">
                    <!-- 文章将通过JS动态加载 -->
                </div>

                <!-- 加载更多 -->
                <div class="load-more">
                    <button id="load-more-blog" class="btn-primary" data-lang="load-more">加载更多</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer将通过JS动态加载 -->

    <script src="js/language-system.js"></script>
    <script src="js/components-loader.js"></script>
    <script src="js/social-links.js"></script>
    <script>
        let currentBlogPage = 1;
        const articlesPerPage = 6;

        document.addEventListener('DOMContentLoaded', function() {
            loadBlogArticles();
        });

        function loadBlogArticles() {
            const savedArticles = JSON.parse(localStorage.getItem('articles')) || [];
            
            let articles;
            if (savedArticles.length === 0) {
                // 默认博客文章
                articles = [
                    {
                        id: '1',
                        title: '工业流量计的选择与维护指南',
                        excerpt: '了解如何选择适合您需求的工业流量计，以及日常维护的最佳实践。',
                        content: '工业流量计是许多行业的关键设备...',
                        image: 'images/blog1.jpg',
                        date: '2023-10-15',
                        category: 'technical',
                        readTime: '5 min read'
                    },
                    {
                        id: '2',
                        title: '加油机技术的发展趋势',
                        excerpt: '探索现代加油机技术的最新发展，包括智能化、数字化和环保特性。',
                        content: '随着技术的不断进步，加油机行业正在经历重大变革...',
                        image: 'images/blog2.jpg',
                        date: '2023-10-10',
                        category: 'industry',
                        readTime: '4 min read'
                    },
                    {
                        id: '3',
                        title: 'LPG设备安全操作规范',
                        excerpt: '确保LPG设备安全运行的重要指南和最佳实践。',
                        content: 'LPG设备的安全操作对于防止事故至关重要...',
                        image: 'images/blog3.jpg',
                        date: '2023-10-05',
                        category: 'safety',
                        readTime: '6 min read'
                    },
                    {
                        id: '4',
                        title: '工业泵的节能优化策略',
                        excerpt: '如何通过优化工业泵的运行来提高能效和降低成本。',
                        content: '工业泵是许多工业过程中的重要能耗设备...',
                        image: 'images/blog4.jpg',
                        date: '2023-09-28',
                        category: 'technical',
                        readTime: '7 min read'
                    },
                    {
                        id: '5',
                        title: '尿素设备维护要点',
                        excerpt: '保持尿素设备高效运行的关键维护步骤和注意事项。',
                        content: '尿素设备的正确维护对于确保其长期可靠运行至关重要...',
                        image: 'images/blog5.jpg',
                        date: '2023-09-20',
                        category: 'maintenance',
                        readTime: '5 min read'
                    },
                    {
                        id: '6',
                        title: '全球工业设备市场展望',
                        excerpt: '分析当前全球工业设备市场趋势和未来发展方向。',
                        content: '全球工业设备市场正在经历快速变化...',
                        image: 'images/blog6.jpg',
                        date: '2023-09-15',
                        category: 'industry',
                        readTime: '8 min read'
                    }
                ];
            } else {
                articles = savedArticles;
            }

            displayBlogArticles(articles);
        }

        function displayBlogArticles(articles, append = false) {
            const blogGrid = document.getElementById('blog-grid');
            if (!blogGrid) return;

            const startIndex = 0;
            const endIndex = currentBlogPage * articlesPerPage;
            const articlesToShow = articles.slice(startIndex, endIndex);

            let html = '';
            articlesToShow.forEach(article => {
                html += `
                    <article class="blog-article">
                        <div class="article-image">
                            <img src="${article.image || 'images/default-blog.jpg'}" alt="${article.title}">
                        </div>
                        <div class="article-content">
                            <div class="article-meta">
                                <span class="article-date">${formatDate(article.date)}</span>
                                <span class="article-category" data-lang="${article.category}">${getTranslation(article.category)}</span>
                                <span class="article-read-time">${article.readTime}</span>
                            </div>
                            <h3 class="article-title">${article.title}</h3>
                            <p class="article-excerpt">${article.excerpt}</p>
                            <a href="blog-article.html?id=${article.id}" class="read-more" data-lang="read-more">阅读更多</a>
                        </div>
                    </article>
                `;
            });

            if (append) {
                blogGrid.innerHTML += html;
            } else {
                blogGrid.innerHTML = html;
            }

            // 更新加载更多按钮
            const loadMoreBtn = document.getElementById('load-more-blog');
            if (loadMoreBtn) {
                if (endIndex >= articles.length) {
                    loadMoreBtn.style.display = 'none';
                } else {
                    loadMoreBtn.style.display = 'block';
                    loadMoreBtn.addEventListener('click', function() {
                        currentBlogPage++;
                        displayBlogArticles(articles, true);
                    });
                }
            }

            applyLanguage();
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
    </script>
</body>
</html>